language: cpp 
matrix:
  include:
    compiler: gcc
before_install:
  - sudo apt-get install -y doxygen
script:
  - git clone https://github.com/ImyaPolzovatelyaPolzovatel/Doxygen.git
  - mv matrixfact.c Doxygen
  - mv matrixfact.h Doxygen
  - mv dinoPRO.c Doxygen
  - cd Doxygen
  - mkdir test
  - doxygen -g
  - sed -i '61s/OUTPUT_DIRECTORY       =/OUTPUT_DIRECTORY       = ./' Doxyfile
  - sed -i '1607s/GENERATE_LATEX         = YES/GENERATE_LATEX         = NO/' Doxyfile
  - sed -i '774s/INPUT                  =/INPUT                  = ./' Doxyfile
  - sed -i '805s/RECURSIVE              = NO/RECURSIVE              = YES/' Doxyfile
  - rename 's/.c/.h/' *.c
  - doxygen Doxyfile
  - ls
  - rm dinoPRO.h
  - rm matrixfact.h
  - rm matrixfact.h
  - ls
  - git config --global user.name "travis"
  - git config --global user.email "2019103620@pnu.edu.ru"
  - git add -A
  - git commit -am "Update doc from Travis CI"
  - git config --global push.default simple
  - git push -f -q https://ImyaPolzovatelyaPolzovatel:${GITHUB_API_KEY}@github.com/ImyaPolzovatelyaPolzovatel/Doxygen.git
branches:
  only:
    - master

